function assert_precondition(a,b,c){return console.assert("number"==typeof a),void 0===b&&(b={}),console.assert("object"==typeof b),void 0===c?c=0:console.assert("number"==typeof c),console.assert(a>=c),[b,c]}function anim_delay(a){console.assert("number"==typeof a);let b=function(a,b,c){return[b,c]=assert_precondition(a,b,c),b};return b.duration=a,b.par=a=>anim_parallel(b,a),b.seq=a=>anim_sequence(b,a),b}function anim_const(a,b){let c=function(c,d,e){return[d,e]=assert_precondition(c,d,e),d[a]=b,d};return c.duration=0,c.par=a=>anim_parallel(c,a),c.seq=a=>anim_sequence(c,a),c}function ease_linear(a,b,c){return(1-b)*a+b*c}function ease_cubic(a,b,c){const d=(1-b)*(1-b)*(1-b);return d*a+(1-d)*c}function ease_out_back(a,b,c){var d=Math.pow;const e=1.70158,f=1+(e+1)*d(b-1,3)+e*d(b-1,2);return(1-f)*a+f*c}function anim_interpolated(a,b,c,d){let e=function(e,f,g){if([f,g]=assert_precondition(e,f,g),e<g+d&&0!==d){const h=(e-g)/d;console.assert(0<=h),console.assert(1>=h);const i=f[b];f[b]=a(i,h,c)}else f[b]=c;return f};return e.duration=d,e.par=a=>anim_parallel(e,a),e.seq=a=>anim_sequence(e,a),e}function anim_sequence(a,b){const c=a.duration+b.duration;let d=function(c,d,e){return[d,e]=assert_precondition(c,d,e),a(c,d,e),c>=e+a.duration&&b(c,d,e+a.duration),d};return d.duration=c,d.par=a=>anim_parallel(d,a),d.seq=a=>anim_sequence(d,a),d}function anim_parallel(a,b){var c=Math.max;const d=c(a.duration,b.duration);let e=function(c,d,e){return[d,e]=assert_precondition(c,d,e),c>=e&&(a(c,d,e),b(c,d,e)),d};return e.duration=d,e.par=a=>anim_parallel(e,a),e.seq=a=>anim_sequence(e,a),e}function anim_parallel_list(a){for(var b=a[0],c=1;c<a.length;++c)b=b.par(a[c]);return b}function anim_sequence_list(a){for(var b=a[0],c=1;c<a.length;++c)b=b.seq(a[c]);return b}function anim_stagger(a,b){console.assert("number"==typeof b);for(var c=[],d=0;d<a.length;++d)c.push(anim_delay(b*d).seq(a[d]));for(var e=c[0],d=1;d<c.length;++d)e=e.par(c[d]);return e}function getShader(a){const b="shaderweb/shaders/"+a;return console.log("uri: "+b),fetch(b).then(a=>a.ok?a.text():void 0)}function getModel(a){return uri="shaderweb/models/"+a+".txt",fetch(uri).then(a=>a.ok?a.text():void 0)}var m4={perspective:function(a,b,c,d){var e=Math.tan(.5*Math.PI-.5*a),f=1/(c-d);return[e/b,0,0,0,0,e,0,0,0,0,(c+d)*f,-1,0,0,2*(c*d*f),0]},projection:function(a,b,c){return[2/a,0,0,0,0,-2/b,0,0,0,0,2/c,0,-1,1,0,1]},multiply:function(c,a){var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],i=c[6],j=c[7],k=c[8],l=c[9],m=c[10],n=c[11],o=c[12],p=c[13],q=c[14],r=c[15],s=a[0],t=a[1],u=a[2],v=a[3],w=a[4],x=a[5],y=a[6],z=a[7],A=a[8],B=a[9],C=a[10],D=a[11],E=a[12],F=a[13],G=a[14],H=a[15];return[s*b+t*g+u*k+v*o,s*d+t*h+u*l+v*p,s*e+t*i+u*m+v*q,s*f+t*j+u*n+v*r,w*b+x*g+y*k+z*o,w*d+x*h+y*l+z*p,w*e+x*i+y*m+z*q,w*f+x*j+y*n+z*r,A*b+B*g+C*k+D*o,A*d+B*h+C*l+D*p,A*e+B*i+C*m+D*q,A*f+B*j+C*n+D*r,E*b+F*g+G*k+H*o,E*d+F*h+G*l+H*p,E*e+F*i+G*m+H*q,E*f+F*j+G*n+H*r]},translation:function(a,b,c){return[1,0,0,0,0,1,0,0,0,0,1,0,a,b,c,1]},xRotation:function(a){var b=Math.cos(a),c=Math.sin(a);return[1,0,0,0,0,b,c,0,0,-c,b,0,0,0,0,1]},yRotation:function(a){var b=Math.cos(a),c=Math.sin(a);return[b,0,-c,0,0,1,0,0,c,0,b,0,0,0,0,1]},zRotation:function(a){var b=Math.cos(a),c=Math.sin(a);return[b,c,0,0,-c,b,0,0,0,0,1,0,0,0,0,1]},scaling:function(a,b,c){return[a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1]},translate:function(a,b,c,d){return m4.multiply(a,m4.translation(b,c,d))},xRotate:function(a,b){return m4.multiply(a,m4.xRotation(b))},yRotate:function(a,b){return m4.multiply(a,m4.yRotation(b))},zRotate:function(a,b){return m4.multiply(a,m4.zRotation(b))},scale:function(a,b,c,d){return m4.multiply(a,m4.scaling(b,c,d))},inverse:function(a){var b=a[0],c=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8],l=a[9],m=a[10],n=a[11],o=a[12],p=a[13],q=a[14],r=a[15],s=m*r,t=q*n,u=i*r,v=q*j,w=i*n,x=m*j,y=e*r,z=q*f,A=e*n,B=m*f,C=e*j,D=i*f,E=k*p,F=o*l,G=g*p,H=o*h,I=g*l,J=k*h,K=b*p,L=o*c,M=b*l,N=k*c,O=b*h,P=g*c,Q=s*h+v*l+w*p-(t*h+u*l+x*p),R=t*c+y*l+B*p-(s*c+z*l+A*p),S=u*c+z*h+C*p-(v*c+y*h+D*p),T=x*c+A*h+D*l-(w*c+B*h+C*l),U=1/(b*Q+g*R+k*S+o*T);return[U*Q,U*R,U*S,U*T,U*(t*g+u*k+x*o-(s*g+v*k+w*o)),U*(s*b+z*k+A*o-(t*b+y*k+B*o)),U*(v*b+y*g+D*o-(u*b+z*g+C*o)),U*(w*b+B*g+C*k-(x*b+A*g+D*k)),U*(E*j+H*n+I*r-(F*j+G*n+J*r)),U*(F*f+K*n+N*r-(E*f+L*n+M*r)),U*(G*f+L*j+O*r-(H*f+K*j+P*r)),U*(J*f+M*j+P*n-(I*f+N*j+O*n)),U*(G*m+J*q+F*i-(I*q+E*i+H*m)),U*(M*q+E*e+L*m-(K*m+N*q+F*e)),U*(K*i+P*q+H*e-(O*q+G*e+L*i)),U*(O*m+I*e+N*i-(M*i+P*m+J*e))]},cross:function(c,a){return[c[1]*a[2]-c[2]*a[1],c[2]*a[0]-c[0]*a[2],c[0]*a[1]-c[1]*a[0]]},subtractVectors:function(c,a){return[c[0]-a[0],c[1]-a[1],c[2]-a[2]]},normalize:function(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);return 1e-5<b?[a[0]/b,a[1]/b,a[2]/b]:[0,0,0]},lookAt:function(a,b,c){var d=m4.normalize(m4.subtractVectors(a,b)),e=m4.normalize(m4.cross(c,d)),f=m4.normalize(m4.cross(d,e));return[e[0],e[1],e[2],0,f[0],f[1],f[2],0,d[0],d[1],d[2],0,a[0],a[1],a[2],1]},transformVector:function(a,b){for(var c=[],d=0;4>d;++d){c[d]=0;for(var e=0;4>e;++e)c[d]+=b[e]*a[4*e+d]}return c}};async function getShaders(a){const b=["frag","vert"],c=await Promise.all(b.map(b=>getShader(a+"_"+b+".glsl"))),d=b.map((a,b)=>({name:a,shader:c[b]}));return d}async function go(quality){var _Mathsin=Math.sin,_Mathcos=Math.cos;function getUrlParameter(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}function doCheck(a,b){var c=gl.getShaderParameter(a,gl.COMPILE_STATUS);console.log("Shader compiled successfully?: "+c);var d=gl.getShaderInfoLog(a);console.log("Shader compiler log: "+d),c||console.log(b)}async function getShaderProgram(a,b,c){var d=b.find(a=>"vert"==a.name);d=null==d?"":d.shader;var e=b.find(a=>"frag"==a.name);e=null==e?"":e.shader;var f=await getShaders(a),g=d+f.find(a=>"vert"==a.name).shader,h=gl.createShader(gl.VERTEX_SHADER);gl.shaderSource(h,g),gl.compileShader(h),doCheck(h,g);var i=e+f.find(a=>"frag"==a.name).shader,j=gl.createShader(gl.FRAGMENT_SHADER);gl.shaderSource(j,i),gl.compileShader(j),doCheck(j,i);var k=gl.createProgram();return gl.attachShader(k,h),gl.attachShader(k,j),c&&gl.transformFeedbackVaryings(k,c,gl.INTERLEAVED_ATTRIBS),gl.linkProgram(k),k}function checkExtensions(a){a.getExtension("OES_standard_derivatives"),a.getExtension("OES_texture_float"),a.getExtension("EXT_color_buffer_float"),a.getExtension("EXT_float_blend")}function getSquareObject(a,b,c){return{program:null,renderStyle:gl.TRIANGLE_STRIP,size:4,colour:b,width:c,instances:a}}function drawRenderObject(a){gl.bindBuffer(gl.ARRAY_BUFFER,a.vbo);var b=gl.getUniformLocation(shaderProgram,"colour");gl.uniform4fv(b,a.colour);var c=gl.getUniformLocation(shaderProgram,"width");gl.uniform1fv(c,[a.width]);var d=gl.getUniformLocation(shaderProgram,"cutoffParam");gl.uniform1fv(d,[this.cutoffParam]);var e=gl.getUniformLocation(shaderProgram,"bounds");gl.uniform2fv(e,[this.boundsLow,this.boundsHi]);var f=gl.getUniformLocation(shaderProgram,"aperture");gl.uniform1fv(f,[this.aperture]);var g=gl.getUniformLocation(shaderProgram,"focalLength");gl.uniform1fv(g,[this.focalLength]);var h=gl.getUniformLocation(shaderProgram,"planeInFocus");gl.uniform1fv(h,[this.planeInFocus]);var i=m4.perspective(this.fov,canvas.height/canvas.width,this.near,this.far),j=[this.camParams.length*_Mathcos(this.camParams.phi)*_Mathsin(this.camParams.theta),this.camParams.length*_Mathcos(this.camParams.phi)*_Mathcos(this.camParams.theta),this.camParams.length*_Mathsin(this.camParams.phi)],k=[this.camParams.lookAtX,this.camParams.lookAtY,this.lookAtZ],l=m4.lookAt(j,k,[0,1,0]),m=m4.inverse(l),n=m4.multiply(i,m),o=gl.getUniformLocation(shaderProgram,"mvp");gl.uniformMatrix4fv(o,gl.FALSE,n),gl.bindVertexArray(vertexArrays[currentSourceIdx]),gl.vertexAttribDivisor(OFFSET_LOCATION,1),gl.vertexAttribDivisor(COLOUR_LOCATION,NUM_INSTANCES/NUM_COLOURS),gl.vertexAttribDivisor(POSITION_LOCATION,0),gl.drawArraysInstanced(a.renderStyle,0,a.size,a.instances)}function deleteBuffers(a){a.forEach(a=>gl.deleteBuffer(a.vbo))}function getMousePosition(a,b){let c=a.getBoundingClientRect(),d=(b.clientX-c.left)/a.width,e=1-(b.clientY-c.top)/a.height;return[d,e]}function random(){return 1.2*Math.random()-.1}function transform(a){for(var b,c=0;2>c;c++)b=.9*pointerPos[c]+.1*mousePos[c],mouseVel[c]=b-pointerPos[c],pointerPos[c]=b;var d=(currentSourceIdx+1)%2,e=vertexArrays[currentSourceIdx],f=transformFeedbacks[d];gl.useProgram(transformProgram);var g=gl.getUniformLocation(transformProgram,"iTime");gl.uniform1fv(g,[a]);var h=gl.getUniformLocation(transformProgram,"iResolution");gl.uniform2fv(h,[canvas.clientWidth,canvas.clientHeight]);var j=gl.getUniformLocation(transformProgram,"bounds");gl.uniform2fv(j,[this.boundsLow,this.boundsHi]);var k=gl.getUniformLocation(transformProgram,"mouseVel");gl.uniform2fv(k,mouseVel),gl.bindVertexArray(e),gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK,f),gl.vertexAttribDivisor(0,0),gl.vertexAttribDivisor(2,0),gl.enable(gl.RASTERIZER_DISCARD),gl.beginTransformFeedback(gl.POINTS),gl.drawArrays(gl.POINTS,0,NUM_INSTANCES),gl.endTransformFeedback(),gl.disable(gl.RASTERIZER_DISCARD),gl.useProgram(null),gl.bindBuffer(gl.ARRAY_BUFFER,null),gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK,null),gl.bindBuffer(gl.TRANSFORM_FEEDBACK_BUFFER,null),currentSourceIdx=(currentSourceIdx+1)%2}function resize(a){var b=a.clientWidth,c=a.clientHeight;(a.width!==b||a.height!==c)&&(a.width=b,a.height=c,framebuffers.forEach(a=>gl.deleteFramebuffer(a)),gl.deleteTexture(texture),FRAMEBUFFER_SIZE={x:a.width,y:a.height},texture=gl.createTexture(),gl.bindTexture(gl.TEXTURE_2D,texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA32F,FRAMEBUFFER_SIZE.x,FRAMEBUFFER_SIZE.y,0,gl.RGBA,gl.FLOAT,null),gl.bindTexture(gl.TEXTURE_2D,null),framebuffers=[gl.createFramebuffer()],gl.bindFramebuffer(gl.FRAMEBUFFER,framebuffers[FRAMEBUFFER.TEXTURE]),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,texture,0),gl.bindFramebuffer(gl.FRAMEBUFFER,null))}function doPostProcess(){gl.useProgram(postProgram),gl.bindTexture(gl.TEXTURE_2D,texture);var a=gl.getUniformLocation(postProgram,"frame");gl.uniform1i(a,texture),gl.bindVertexArray(vertexArrays[currentSourceIdx]),gl.vertexAttribDivisor(0,0),gl.vertexAttribDivisor(2,0),gl.drawArrays(gl.TRIANGLE_STRIP,0,4)}function chooseBetween(a,b){return a+Math.random()*(a-b)}function addDistanceInTime(a){const b=a;return .5<Math.random()?-b:b}function chooseCameraParams(a){let b=chooseBetween(1,1.3);let c=chooseBetween(0,1);let d=chooseBetween(7,10),e=chooseBetween(.7,.8);cameraAnimations=anim_const("length",d).seq(anim_const("phi",b)).seq(anim_const("theta",0)).seq(anim_const("lookAtX",0)).seq(anim_const("lookAtY",e)).seq(anim_delay(a-10)).seq(anim_interpolated(ease_cubic,"length",d+addDistanceInTime(2),a+30).par(anim_interpolated(ease_cubic,"lookAtY",e+addDistanceInTime(.1),a+30)).par(anim_interpolated(ease_cubic,"phi",b+addDistanceInTime(1),a+30)).par(anim_interpolated(ease_cubic,"theta",c+addDistanceInTime(1),a+30))),console.log(cameraAnimations)}function renderLoop(){resize(canvas);var a=new Date,b=new Date().getTime(),c=(b-start)/1e3;gl.disable(gl.DEPTH_TEST),gl.clear(gl.COLOR_BUFFER_BIT),gl.viewport(0,0,canvas.width,canvas.height),gl.bindFramebuffer(gl.FRAMEBUFFER,framebuffers[FRAMEBUFFER.TEXTURE]),gl.clearBufferfv(gl.COLOR,0,[0,0,0,1]),gl.enable(gl.BLEND),gl.blendFunc(gl.ONE,gl.ONE),gl.useProgram(shaderProgram);var d=gl.getUniformLocation(shaderProgram,"iResolution");gl.uniform3fv(d,[canvas.width,canvas.height,0]);var e=gl.getUniformLocation(shaderProgram,"iTime");gl.uniform1fv(e,[c]),this.camParams=cameraAnimations(c),renderObjects.forEach(a=>drawRenderObject(a)),gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER,null),doPostProcess(),transform(c),window.setTimeout(renderLoop,1e3/60)}console.log(quality),this.aperture="low"==quality?3:"medium"==quality?6:11;var canvas=document.getElementById("particles"),gl=canvas.getContext("webgl2",{alpha:!1});checkExtensions(gl);var FRAMEBUFFER_SIZE={x:canvas.width,y:canvas.height},texture=gl.createTexture();gl.bindTexture(gl.TEXTURE_2D,texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.LINEAR),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA32F,FRAMEBUFFER_SIZE.x,FRAMEBUFFER_SIZE.y,0,gl.RGBA,gl.FLOAT,null),gl.bindTexture(gl.TEXTURE_2D,null);var FRAMEBUFFER={TEXTURE:0},framebuffers=[gl.createFramebuffer()];gl.bindFramebuffer(gl.FRAMEBUFFER,framebuffers[FRAMEBUFFER.TEXTURE]),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,texture,0),gl.bindFramebuffer(gl.FRAMEBUFFER,null),commonShaders=await getShaders("common"),shaderProgram=await getShaderProgram("main",commonShaders),transformProgram=await getShaderProgram("transform",commonShaders,["out_coords"]),postProgram=await getShaderProgram("post",commonShaders);var d=new Date,start=d.getTime();const mouseInput=!0;var isDrawing=!1;mousePos=[0,0],pointerPos=[0,0],mouseVel=[0,0],canvas.addEventListener("mousedown",function(){isDrawing=!0}),canvas.addEventListener("mousemove",function(a){isDrawing&&(mousePos=getMousePosition(canvas,a))}),canvas.addEventListener("mouseup",function(){isDrawing=!1});var renderObjects=[];model=eval(await getModel("head")),NUM_INSTANCES=model.length/4-24,console.log(NUM_INSTANCES),NUM_COLOURS=3;var startingPositions=[],colours=[];startingPositions=model;for(var inst=0;inst<NUM_COLOURS;inst++)colours=colours.concat([406*Math.random(),200*Math.random(),30]);renderObjects=renderObjects.concat([getSquareObject(NUM_INSTANCES,[.8,.5,.5,1],.0333)]);for(var OFFSET_LOCATION=0,POSITION_LOCATION=1,COLOUR_LOCATION=2,NUM_LOCATIONS=3,currentSourceIdx=0,vertexArrays=[gl.createVertexArray(),gl.createVertexArray()],transformFeedbacks=[gl.createTransformFeedback(),gl.createTransformFeedback()],vertexBuffers=Array(vertexArrays.length),va=0;va<vertexArrays.length;++va)gl.bindVertexArray(vertexArrays[va]),vertexBuffers[va]=Array(NUM_LOCATIONS),vertexBuffers[va][OFFSET_LOCATION]=gl.createBuffer(),gl.bindBuffer(gl.ARRAY_BUFFER,vertexBuffers[va][OFFSET_LOCATION]),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(startingPositions),gl.STREAM_COPY),gl.vertexAttribPointer(OFFSET_LOCATION,4,gl.FLOAT,!1,0,0),gl.enableVertexAttribArray(OFFSET_LOCATION),vertexBuffers[va][POSITION_LOCATION]=gl.createBuffer(),gl.bindBuffer(gl.ARRAY_BUFFER,vertexBuffers[va][POSITION_LOCATION]),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(12),gl.STATIC_DRAW),gl.vertexAttribPointer(POSITION_LOCATION,3,gl.FLOAT,!1,0,0),gl.enableVertexAttribArray(POSITION_LOCATION),vertexBuffers[va][COLOUR_LOCATION]=gl.createBuffer(),gl.bindBuffer(gl.ARRAY_BUFFER,vertexBuffers[va][COLOUR_LOCATION]),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(colours),gl.STATIC_DRAW),gl.vertexAttribPointer(COLOUR_LOCATION,3,gl.FLOAT,!1,0,0),gl.enableVertexAttribArray(COLOUR_LOCATION),gl.vertexAttribDivisor(COLOUR_LOCATION,NUM_INSTANCES/NUM_COLOURS),gl.bindVertexArray(null),gl.bindBuffer(gl.ARRAY_BUFFER,null),gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK,transformFeedbacks[va]),gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER,0,vertexBuffers[va][OFFSET_LOCATION]),gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK,null);this.focalLength=.33,this.planeInFocus=.4,this.boundsLow=.26,this.boundsHi=3,this.cutoffParam=.08;const gui=new dat.GUI;var transformFolder=gui.addFolder("transform");transformFolder.add(this,"boundsLow",0,3),transformFolder.add(this,"boundsHi",0,3),transformFolder.add(this,"cutoffParam",0,1);var dof=gui.addFolder("dof");dof.add(this,"aperture"),dof.add(this,"focalLength",0,5),dof.add(this,"planeInFocus",0,3),this.fov=1.6,this.lookAtZ=0,this.near=1,this.far=20,cameraAnimations=anim_const("length",10).seq(anim_const("phi",1.4)).seq(anim_const("theta",0)).seq(anim_const("lookAtX",-.5)).seq(anim_const("lookAtY",.5)).seq(anim_interpolated(ease_cubic,"length",4,40).par(anim_interpolated(ease_cubic,"lookAtY",1,20)).par(anim_interpolated(ease_cubic,"phi",.8,20)));var travelTime=30;Tone.Transport.scheduleRepeat(chooseCameraParams,"15m","+14m"),renderLoop()}function doTone(){var a=new Tone.Freeverb({roomSize:.9,cutoff:5e3}).toMaster(),b=new Tone.FeedbackDelay({delayTime:.75,feedback:.9,wet:.7}).connect(a),c=new Tone.Mono().connect(b),d=new Tone.Players({Am_1:"sound/sounds/Am_1.ogg",Am_2:"sound/sounds/Am_2.ogg",Am_3:"sound/sounds/Am_3.ogg",Am_4:"sound/sounds/Am_4.ogg",Am_5:"sound/sounds/Am_5.ogg",Am_6:"sound/sounds/Am_6.ogg",Am_7:"sound/sounds/Am_7.ogg",Am_8:"sound/sounds/Am_8.ogg",Dm_1:"sound/sounds/Dm_1.ogg",Dm_2:"sound/sounds/Dm_2.ogg",Dm_3:"sound/sounds/Dm_3.ogg",Dm_4:"sound/sounds/Dm_4.ogg",Dm_5:"sound/sounds/Dm_5.ogg",Dm_6:"sound/sounds/Dm_6.ogg",Dm_7:"sound/sounds/Dm_7.ogg",Dm_8:"sound/sounds/Dm_8.ogg",F_1:"sound/sounds/F_1.ogg",F_2:"sound/sounds/F_2.ogg",F_3:"sound/sounds/F_3.ogg",F_4:"sound/sounds/F_4.ogg",F_5:"sound/sounds/F_5.ogg",F_6:"sound/sounds/F_6.ogg",F_7:"sound/sounds/F_7.ogg",F_8:"sound/sounds/F_8.ogg",F_9:"sound/sounds/F_9.ogg"},()=>{document}).connect(c),e=[["F_1","F_2","F_3","F_4","F_5","F_6","F_7","F_8","F_9"],["Am_1","Am_2","Am_3","Am_4","Am_5","Am_6","Am_7","Am_8"],["Dm_1","Dm_2","Dm_3","Dm_4","Dm_5","Dm_6","Dm_7","Dm_8"]];Tone.Transport.scheduleRepeat(function(a){var b=Math.floor;samples=e[b(3*Math.sin(a/220))],player=d.get(samples[b(Math.random()*samples.length)]),player.start()},"5m"),Tone.Transport.scheduleRepeat(function(){Tone.Transport.bpm.rampTo(30*Math.random()+90,"+5m")},"20m","+20m"),Tone.Transport.scheduleRepeat(function(){b.delayTime.rampTo(.6*Math.random()+.4,"+5m")},"30m","+30m")}function clickMe(a){document.getElementById("main").classList.replace("visible","clicked"),document.getElementById("particle_canvas").classList.replace("clicked","visible"),go(a.innerText),Tone.Transport.toggle()}doTone();